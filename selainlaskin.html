<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8"
        <title>Selainlaskin</title>
    </head>
    <body>
        <div id="Selainlaskin">
            <button class="button" id="1" onclick="luoLaskukaava()">1</button>
            <button class="button" id="2" onclick="luoLaskukaava()">2</button>
            <button class="button" id="3" onclick="luoLaskukaava()">3</button>
            <button class="button" id="+" onclick="luoLaskukaava()">+</button>
            <br/>
            <button class="button" id="4" onclick="luoLaskukaava()">4</button>
            <button class="button" id="5" onclick="luoLaskukaava()">5</button>
            <button class="button" id="6" onclick="luoLaskukaava()">6</button>
            <button class="button" id="-" onclick="luoLaskukaava()">-</button>
            </br>
            <button class="button" id="7" onclick="luoLaskukaava()">7</button>
            <button class="button" id="8" onclick="luoLaskukaava()">8</button>
            <button class="button" id="9" onclick="luoLaskukaava()">9</button>
            <button class="button" id="*" onclick="luoLaskukaava()">*</button>
            </br>
            <button class="button" id="C" onclick="luoLaskukaava()">C</button>
            <button class="button" id="0" onclick="luoLaskukaava()">0</button>
            <button class="button" id="=" onclick="luoLaskukaava()">=</button>
            <button class="button" id="/" onclick="luoLaskukaava()">/</button>

        </div>
        <h3 id="kaava"></h3>
        <h2 id="tulos"></h2>
        <script>
            let laskukaava= ""
            function luoLaskukaava(){
                let button = document.getElementsByClassName("button")
                let i
                for (i=0; i <button.length; i++){
                    button[i].onclick =function(e){
                        if (this.id=="="){
                            poistaViimeinenOper()
                            document.getElementById("tulos").innerText=eval(laskukaava)
                        }
                        else if(this.id=="C"){
                            laskukaava =""
                            document.getElementById("kaava").innerText=laskukaava
                            document.getElementById("tulos"). innerText=""
                        }
                        else{
                            laskukaava = laskukaava + this.id
                            document.getElementById("kaava").innerText=laskukaava
                        }
                    }
                }
            }
            function poistaViimeinenOper(){
                let operaattorit = "+-*/"
                let viimeinenMrk = laskukaava.substr(laskukaava.lenght-1,laskukaava.lenght)
                if (operaattorit.indexOf(viimeinenMrk)>0){
                    laskukava = laskukaava.substr(0,laskukaava.lenght-1)
                    document.getElementById("kaava").innerText=laskukaava
                }
            }
        </script>
    </body>
</html>